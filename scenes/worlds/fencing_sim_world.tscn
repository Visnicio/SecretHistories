[gd_scene load_steps=10 format=3 uid="uid://bfw10bkhk8t22"]

[ext_resource type="PackedScene" uid="uid://btrk78urw1ksu" path="res://resources/models/fencing_sim/world/floor.glb" id="1_467sw"]
[ext_resource type="Script" path="res://scenes/worlds/fencing_sim/fencing_sim_world.gd" id="1_ec46l"]
[ext_resource type="PackedScene" uid="uid://cf6quncrvriy1" path="res://resources/models/fencing_sim/world/ceiling.glb" id="2_4kshk"]
[ext_resource type="Script" path="res://scenes/worlds/fencing_sim/candle_circle.gd" id="4_3451y"]
[ext_resource type="PackedScene" uid="uid://c8b20twjhptbk" path="res://scenes/objects/pickable_items/equipment/consumable/disposable_lights/candle/candle.tscn" id="5_rvdlx"]
[ext_resource type="PackedScene" uid="uid://iik6knjj75ux" path="res://scenes/objects/pickable_items/equipment/melee/knife_old/knife_old.tscn" id="6_v13d2"]
[ext_resource type="PackedScene" uid="uid://dcwod8emtc3ti" path="res://resources/models/fencing_sim/world/scarecrow.glb" id="7_cgqxg"]
[ext_resource type="PackedScene" uid="uid://c2qsxnqekbghw" path="res://scenes/worlds/fencing_sim/enemy_spawner/enemy_spawner.tscn" id="8_k541a"]

[sub_resource type="BoxShape3D" id="BoxShape3D_nt513"]
size = Vector3(55.0034, 0.514526, 54.9531)

[node name="FencingSimWorld" type="Node3D"]
script = ExtResource("1_ec46l")

[node name="ceiling" parent="." instance=ExtResource("2_4kshk")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.36333, 0)

[node name="SpotLight3D" type="SpotLight3D" parent="ceiling"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0, 4.95385, 0)
spot_range = 9.52345
spot_attenuation = -0.42
spot_angle = 39.18
spot_angle_attenuation = 3.15938e-05

[node name="Floor" type="StaticBody3D" parent="."]

[node name="floor_model" parent="Floor" instance=ExtResource("1_467sw")]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0129967, -0.242737, 0)
shape = SubResource("BoxShape3D_nt513")

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(0.119877, 0, 0.992789, 0, 1, 0, -0.992789, 0, 0.119877, 7.11113, 0.904209, 0)

[node name="CandleCircle" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.0908725, 0.318088)
script = ExtResource("4_3451y")
diameter = 12.4
candle_count = 3
candle_scene = ExtResource("5_rvdlx")

[node name="OldKnife" parent="." instance=ExtResource("6_v13d2")]
transform = Transform3D(1, 0, 0, 0, -0.711094, -0.703097, 0, 0.703097, -0.711094, -0.064896, 1.28279, 4.58208)
mass = 0.001
gravity_scale = 0.0
sleeping = true
freeze = true

[node name="scarecrow2" parent="." instance=ExtResource("7_cgqxg")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0656321, 0.0145258, 4.79664)

[node name="EnemySpawner" parent="." node_paths=PackedStringArray("candle_manager", "spawn_root") instance=ExtResource("8_k541a")]
spawn_time = 2.0
candle_manager = NodePath("../CandleCircle")
spawn_root = NodePath("..")

[connection signal="item_state_changed" from="CandleCircle/Candle" to="CandleCircle/Candle" method="_item_state_changed"]
[connection signal="item_state_changed" from="CandleCircle/@RigidBody3D@17447" to="CandleCircle/@RigidBody3D@17447" method="_item_state_changed"]
[connection signal="item_state_changed" from="CandleCircle/@RigidBody3D@17449" to="CandleCircle/@RigidBody3D@17449" method="_item_state_changed"]
